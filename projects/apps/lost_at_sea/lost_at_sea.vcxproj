<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!--
  Properties
  -->
  <PropertyGroup Label="Globals">
    <ProjectGuid>{A96E7D7B-6550-4F4D-A630-80712E25AB13}</ProjectGuid>
    <RootNamespace>lost_at_sea</RootNamespace>
    <ConfigurationType>Application</ConfigurationType>
    <DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
  </PropertyGroup>
  <!--
  Property Sheets
  -->
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <Import Project="$(PropsPath)build_configurations.props" />
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <Import Project="$(PropsPath)app.props" />
  <!--
  Build Options
  -->
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>
        ;$(ProjectDir)
        ;$(RylogicRoot)include
        ;%(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
    </ClCompile>
    <Link>
      <SubSystem>Windows</SubSystem>
      <AdditionalLibraryDirectories>
        ;$(RylogicRoot)lib\$(PlatformTarget)\$(Configuration)
        ;%(AdditionalLibraryDirectories)
      </AdditionalLibraryDirectories>
      <AdditionalDependencies>
        ;view3d-12-static.lib
        ;physics-2-static.lib
        ;%(AdditionalDependencies)
      </AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <!--
  Shaders
  -->
  <ItemDefinitionGroup>
    <View3dShaderBuild>
      <ShaderType>Effect</ShaderType>
      <ShaderModel>6.6</ShaderModel>
      <AdditionalIncludeDirectories>
        ;$(ProjectDir)
        ;$(RylogicRoot)include\
        ;$(RylogicRoot)projects\rylogic\
        ;%(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
      <PreprocessorDefinitions>
        ;%(PreprocessorDefinitions)
        ;SHADER_BUILD
      </PreprocessorDefinitions>
    </View3dShaderBuild>
    <FxCompile>
      <ShaderType>Compute</ShaderType>
      <ShaderModel>6.6</ShaderModel>
      <AdditionalIncludeDirectories>
        ;$(ProjectDir)
        ;$(RylogicRoot)include\
        ;$(RylogicRoot)projects\rylogic\
        ;%(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
      <PreprocessorDefinitions>
        ;%(PreprocessorDefinitions)
        ;SHADER_BUILD
      </PreprocessorDefinitions>
    </FxCompile>
  </ItemDefinitionGroup>
  <!--
  Files
  -->
  <ItemGroup>
    <ClCompile Include="$(RylogicRoot)include\pr\app\entry_point.cpp" />
    <ClInclude Include="src\core\cameras\free_camera.h" />
    <ClInclude Include="src\core\cameras\icamera.h" />
    <ClInclude Include="src\core\input\actions.h" />
    <ClInclude Include="src\core\input\input_handler.h" />
    <ClInclude Include="src\core\input\modes.h" />
    <ClInclude Include="src\forward.h" />
    <ClCompile Include="src\core\cameras\free_camera.cpp" />
    <ClCompile Include="src\core\cameras\icamera.cpp" />
    <ClCompile Include="src\core\input\input_handler.cpp" />
    <ClCompile Include="src\core\input\modes.cpp" />
    <ClCompile Include="src\main.cpp" />
    <ClInclude Include="src\main.h" />
    <ClInclude Include="src\settings.h" />
    <ClCompile Include="src\world\ocean\ocean.cpp" />
    <ClInclude Include="src\world\ocean\gerstner_wave.h" />
    <ClInclude Include="src\world\ocean\ocean.h" />
    <ClCompile Include="src\world\ocean\shaders\ocean_shader.cpp" />
    <ClInclude Include="src\world\ocean\shaders\ocean_shader.h" />
    <ClCompile Include="src\world\ocean\distant_ocean.cpp" />
    <ClInclude Include="src\world\ocean\distant_ocean.h" />
    <ClCompile Include="src\world\ocean\shaders\distant_ocean_shader.cpp" />
    <ClInclude Include="src\world\ocean\shaders\distant_ocean_shader.h" />
    <ClCompile Include="src\world\terrain\height_field.cpp" />
    <ClInclude Include="src\world\sky\day_night_cycle.h" />
    <ClInclude Include="src\world\terrain\height_field.h" />
    <ClCompile Include="src\world\terrain\terrain.cpp" />
    <ClInclude Include="src\world\terrain\terrain.h" />
    <ClCompile Include="src\world\terrain\shaders\terrain_shader.cpp" />
    <ClInclude Include="src\world\terrain\shaders\terrain_shader.h" />
    <ClCompile Include="src\world\ship\ship.cpp" />
    <ClInclude Include="src\world\ship\ship.h" />
    <ClInclude Include="src\diag\diag_ui.h" />
    <ClCompile Include="src\world\sky\procedural_sky.cpp" />
    <ClInclude Include="src\world\sky\procedural_sky.h" />
    <ClCompile Include="src\world\sky\shaders\procedural_sky_shader.cpp" />
    <ClInclude Include="src\world\sky\shaders\procedural_sky_shader.h" />
  </ItemGroup>
  <ItemGroup>
    <None Include="src\world\ocean\shaders\ocean_cbuf.hlsli" />
    <None Include="src\world\ocean\shaders\ocean.hlsl" />
    <View3dShaderBuild Include="src\world\ocean\shaders\ocean.hlsl" />
    <None Include="src\world\ocean\shaders\distant_ocean_cbuf.hlsli" />
    <None Include="src\world\ocean\shaders\distant_ocean.hlsl" />
    <View3dShaderBuild Include="src\world\ocean\shaders\distant_ocean.hlsl" />
    <None Include="src\world\terrain\shaders\terrain_cbuf.hlsli" />
    <None Include="src\world\terrain\shaders\terrain.hlsl" />
    <View3dShaderBuild Include="src\world\terrain\shaders\terrain.hlsl" />
    <None Include="src\world\sky\shaders\procedural_sky_cbuf.hlsli" />
    <None Include="src\world\sky\shaders\procedural_sky.hlsl" />
    <View3dShaderBuild Include="src\world\sky\shaders\procedural_sky.hlsl" />
  </ItemGroup>
  <ItemGroup>
    <DataFiles Include="$(ProjectDir)data\**\*.*" />
  </ItemGroup>
  <!--
  Custom Target for Data Directory
  -->
  <ItemGroup>
    <ResourceCompile Include="..\..\..\include\pr\hlsl\pr_hlsl.rc" />
    <ResourceCompile Include="res\shaders.rc" />
    <ResourceCompile Include="src\world\ocean\shaders\ocean.rc" />
    <ResourceCompile Include="src\world\ocean\shaders\distant_ocean.rc" />
    <ResourceCompile Include="src\world\terrain\shaders\terrain.rc" />
    <ResourceCompile Include="src\world\sky\shaders\procedural_sky.rc" />
  </ItemGroup>
  <Target Name="CopyDataDirectory" AfterTargets="Link">
    <Copy SourceFiles="@(DataFiles)" DestinationFiles="@(DataFiles -> '$(OutDir)data\%(RecursiveDir)%(Filename)%(Extension)')" ContinueOnError="ErrorAndContinue" SkipUnchangedFiles="true" />
  </Target>
  <!--
  Copy DLL dependencies to output
  -->
  <Target Name="CopyDllDependencies" AfterTargets="Link">
    <Copy SourceFiles="$(RylogicRoot)lib\$(PlatformTarget)\$(Configuration)\imgui.dll" DestinationFolder="$(OutDir)" SkipUnchangedFiles="true" ContinueOnError="ErrorAndContinue" />
  </Target>
  <PropertyGroup>
    <BuildDependsOn>CopyDataDirectory;CopyDllDependencies;$(BuildDependsOn)</BuildDependsOn>
  </PropertyGroup>
  <!--
  Targets
  -->
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <Import Project="$(TargetsPath)imgui.targets" />
</Project>