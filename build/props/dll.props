<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <Import Project="$(PropsPath)root.props" />

  <!-- Properties -->
  <PropertyGroup Label="Globals">
    <OutDir>$(RylogicRoot)obj\$(SubDir)\</OutDir>
    <IntDir>$(RylogicRoot)obj\$(SubDir)\</IntDir>
    <TargetExt>.dll</TargetExt>
  </PropertyGroup>

  <!-- Compiler flags -->
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>
        ;$(RylogicRoot)include
        ;$(RylogicRoot)sdk
        ;%(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
    </ClCompile>
    <Link>
      <AdditionalLibraryDirectories>
        ;$(RylogicRoot)lib\$(PlatformTarget)\$(Configuration)
        ;%(AdditionalLibraryDirectories)
      </AdditionalLibraryDirectories>
    </Link>
    <ResourceCompile>
      <AdditionalIncludeDirectories>
        ;$(RylogicRoot)include
        ;$(RylogicRoot)sdk
        ;%(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
    </ResourceCompile>
  </ItemDefinitionGroup>

  <!-- Dependencies -->
  <Target Name="Deploy" AfterTargets="Build">
    <Exec
      Command="dotnet-script.exe --cache-path %TEMP%\$(SubDir) $(ScriptPath)DeployLib.csx -- $(TargetPath)"
      WorkingDirectory="$(RylogicRoot)"
    />
  </Target>
</Project>